import P from"./CAQH5q4M.js";import k from"./K-0IKkWc.js";import{u as q}from"./CA5xj2mJ.js";import{_ as F,r as c,k as N,o as w,x as u,z as e,B as d,A as l,E as V,D as z,F as A,G as I,g as M,y as v}from"./BQPUzQds.js";const T={class:"page"},B={class:"container"},G={class:"main-layout"},L={class:"main-layout__form"},$={class:"card card--elevated"},S={class:"card__header"},D={class:"card-header"},H={class:"card-header__icon"},U={class:"card-header__text"},j={class:"card__title"},O={class:"card__subtitle"},J={class:"card__body"},K={key:0,class:"edit-mode-actions"},W={class:"main-layout__list"},X={class:"card card--elevated"},Y={class:"card__header"},Z={class:"card-header"},ee={class:"card-header__icon"},oe={class:"card-header__text"},se={class:"card__subtitle"},te={class:"card__body"},ae={class:"stats-section"},ne={class:"stats-grid"},ce={class:"stat-card__icon"},de={class:"stat-card__content"},ie={class:"stat-card__value"},le={class:"stat-card__label"},re=Object.assign({name:"QrGeneratorPage"},{__name:"index",setup(_e){const a=c([]),m=c(!1),n=c(!1),r=c(null),p=c(1),h=c(null);console.log("Page mounted, checking components availability");const Q=N(()=>[{label:"Codes Créés",value:a.value.length,icon:"fa-qrcode"},{label:"Types Produits",value:new Set(a.value.map(o=>o.typeProduit)).size,icon:"fa-tag"},{label:"Valeur Totale",value:`${a.value.reduce((o,s)=>o+(s.prixVente||0),0).toLocaleString()} FCFA`,icon:"fa-dollar-sign"}]),i=async(o=1)=>{try{m.value=!0,console.log("Fetching QR codes for page:",o);const s=await $fetch(`/api/qrcodes?page=${o}&limit=5`);a.value=s.data||[],h.value=s.pagination,p.value=o,console.log("QR codes loaded:",a.value),console.log("Pagination:",h.value)}catch(s){console.error("Erreur lors du chargement des QR codes:",s)}finally{m.value=!1}},b=o=>{console.log("New QR code created:",o),i(1),f("QR Code créé avec succès !","success")},C=o=>{console.log("QR code updated:",o),i(p.value),g(),f("QR Code modifié avec succès !","success")},y=o=>{console.log("Editing QR code:",o),r.value=o,n.value=!0,console.log("Edit mode activated:",n.value,r.value)},g=()=>{n.value=!1,r.value=null},R=o=>{console.log("Changing to page:",o),i(o)},f=(o,s="info")=>{const t=document.createElement("div");t.className=`notification notification--${s}`,t.textContent=o,document.body.appendChild(t),setTimeout(()=>{t.remove()},3e3)};return w(()=>{console.log("Page mounted, components should be visible"),i()}),q({title:"Générateur QR - Interface Épurée 2025",meta:[{name:"description",content:"Générateur de codes QR avec interface minimaliste noir et blanc"}]}),(o,s)=>{const t=M("FontAwesomeIcon"),x=P,E=k;return v(),u("div",T,[e("div",B,[s[3]||(s[3]=e("div",{class:"page-header"},[e("div",{class:"page-header__content"},[e("h1",{class:"page-header__title"}," Créez vos Codes QR "),e("p",{class:"page-header__description"}," Interface pour gérer vos codes QR facilement ")])],-1)),e("div",G,[e("section",L,[e("div",$,[e("div",S,[e("div",D,[e("div",H,[d(t,{icon:"fa-plus"})]),e("div",U,[e("h2",j,l(n.value?"Modifier Code QR":"Nouveau Code QR"),1),e("p",O,l(n.value?"Modifiez les informations du produit":"Remplissez les informations du produit"),1)])])]),e("div",J,[d(x,{"edit-mode":n.value,"qr-code-to-edit":r.value,onQrCreated:b,onQrUpdated:C},null,8,["edit-mode","qr-code-to-edit"]),n.value?(v(),u("div",K,[e("button",{class:"btn btn--outline btn--block",onClick:g},[d(t,{icon:"fa-times",class:"btn-icon"}),s[1]||(s[1]=z(" Annuler la modification ",-1))])])):V("",!0)])])]),e("section",W,[e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[d(t,{icon:"fa-list"})]),e("div",oe,[s[2]||(s[2]=e("h2",{class:"card__title"},"Historique",-1)),e("p",se,l(a.value.length)+" codes générés",1)])])]),e("div",te,[d(E,{"qr-codes":a.value,pagination:h.value,"is-loading":m.value,onRefreshList:s[0]||(s[0]=()=>i(1)),onEditQrCode:y,onChangePage:R},null,8,["qr-codes","pagination","is-loading"])])])])]),e("section",ae,[e("div",ne,[(v(!0),u(A,null,I(Q.value,_=>(v(),u("div",{class:"stat-card",key:_.label},[e("div",ce,[d(t,{icon:_.icon},null,8,["icon"])]),e("div",de,[e("div",ie,l(_.value),1),e("div",le,l(_.label),1)])]))),128))])])])])}}}),pe=F(re,[["__scopeId","data-v-1cbee49a"]]);export{pe as default};
